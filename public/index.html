<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>11AM - Ï†êÏã¨Ï§ÄÎπÑ</title>
  <link rel="stylesheet" type="text/css" href="css/normalize.css" />
  <link href='http://fonts.googleapis.com/css?family=Raleway:400,300,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.13/css/dataTables.bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.4.1/css/swiper.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.4.1/css/swiper.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="js/moment.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.4.1/js/swiper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.4.1/js/swiper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.4.1/js/swiper.esm.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.4.1/js/swiper.esm.bundle.js"></script>
  <!--[if IE]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
  <style type="text/css">
      body{margin: 1em 1em}
 * {transition: all 0.2s }select {background: rgba(255, 255, 255, 0) }.btn-style {box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);font-size: 20px;border-radius: initial;height: 42px;top: 0px;left: 4px;}.btn:focus, .btn:active {outline: initial !important;box-shadow: initial !important;}.input-group {width: 478px;margin: 0 auto;padding-top: 40vh }.input-position-ab {position: absolute;margin: 4px 0 0 0;z-index: 999 }#map-canvas {height: 400px;width: 600px;}.controls {border: 1px solid transparent;box-sizing: border-box;-moz-box-sizing: border-box;height: 41px;outline: none;box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);}#pac-input {background-color: #fff;padding: 0 0 0 100px;width: 100%;font-size: 15px;font-weight: 300;text-overflow: ellipsis;}#pac-input:hover, #pac-input:focus {box-shadow: 0 3px 6px rgba(0, 0, 0, 0.6);}#pac-input:hover ~ button {box-shadow: 0 3px 6px rgba(0, 0, 0, 0.6);}#type-selector {color: #fff;background-color: #4d90fe;padding: 5px 11px 0px 11px;}#type-selector label {font-size: 13px;font-weight: 300;}#load {color: rgba(0, 0, 0, 0.4);text-align: center;font-size: 13px;}.valign-wrapper {display: -webkit-flex !important;display: -ms-flexbox !important;display: flex !important;-webkit-align-items: center !important;-ms-flex-align: center !important;align-items: center !important;}.container {z-index: 0;margin: 44px 0 0 0;position: absolute;width: 100%;left: -14px;}.row{width: 478px;margin: 0 auto;border: 1px solid #ababab;background: white;}.tab-content{padding: 15px 15px;}.nav-tabs li{padding: 0 !important;text-align: center;}.nav-tabs li a{margin:0;border-radius: initial;}.display-none{display: none}body,html{height: 100%}.tab-content .row{width: initial !important;}
  </style>
<body>
  <div id="divUTC" style="display: none;"></div>
  <div id="divLocal" style="display: none;"></div>
  <div id="load" style="display: none;"></div>


  <!--11AM - Ï†êÏã¨ Ï§ÄÎπÑ ÏãúÏûë-->

  <!-- Swiper -->
  <style>
      .swiper-container {width: 100%;}
      .swiper-slide {
          text-align: center;
          font-size: 18px;
          /* Center slide text vertically */
          display: -webkit-box;
          display: -ms-flexbox;
          display: -webkit-flex;
          display: flex;
          -webkit-box-pack: center;
          -ms-flex-pack: center;
          -webkit-justify-content: center;
          justify-content: center;
          -webkit-box-align: center;
          -ms-flex-align: center;
          -webkit-align-items: center;
          align-items: center;
      }
      .owl-item{border-radius: 59px;border: 1px solid #ececec;overflow: hidden;height: 18em;}
      .round-element{position: relative;}
      .above-overlay{position: relative;top: -250px;margin: 0 auto;text-align: center;width: 100%;color: white;z-index: 999;}
      .overlay-gradient-large{width: 100%;height: 322px;position: absolute;left: 0;top: 43px;margin: 0 auto;background: linear-gradient(to bottom,rgba(0,0,0,0) 0,rgba(0,0,0,0) 30%,rgba(0,0,0,.7) 60%,rgba(0,0,0,.8) 70%,rgba(0,0,0,1) 100%);}
  </style>
  <div class="swiper-container">
      <div id="j-swiper-wrapper" class="swiper-wrapper">
          <!--<div class="swiper-slide">
              <div class="owl-item">
                  <div class="round-element">
                      <img class="" src="https://enableds.com/products/kolor3/images/pictures/10l.jpg">
                      <div class="above-overlay">
                          <h3 class="">ÏÉÅÏ†êÏù¥Î¶Ñ</h3>
                          <p class="">Ìú¥Î¨¥Ïùº</p>
                          <p class="">Î∞∞Îã¨Ïú†Î¨¥</p>
                          <p class="">Ï†ÑÌôîÎ≤àÌò∏</p>
                      </div>
                      <div class="overlay-gradient-large"></div>
                  </div>
              </div>
          </div>
          <div class="swiper-slide">Slide 2</div>
          <div class="swiper-slide">Slide 3</div>
          <div class="swiper-slide">Slide 4</div>
          <div class="swiper-slide">Slide 5</div>
          <div class="swiper-slide">Slide 6</div>
          <div class="swiper-slide">Slide 7</div>
          <div class="swiper-slide">Slide 8</div>
          <div class="swiper-slide">Slide 9</div>
          <div class="swiper-slide">Slide 10</div>-->
      </div>
      <!-- Add Pagination -->
      <div class="swiper-pagination"></div>
  </div>

  <style>
      .container2 {
          width: 100%;
          height: 100%;
          /*transform: translate(-50%, -50%);*/
      }
      .chatbox {
          width: 50%;
          margin: 2% auto;
          height: 70vh;
          background-color: #fff;
          position: relative;
          border-radius: 10px;
          overflow: hidden;
          box-shadow: 0px 0px 249px -48px rgba(0,0,0,0.75);
          transition: all 300ms ease-in-out;
      }

      .bar {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 50px;
          background-color: #4286f4;
      }

      .positioning-container-bar {
          position: relative;
          top: 0;
          left: 50%;
          transform: translate(-50%, 0);
          height: 100%;
      }
      @keyframes statuschange {
          0% {background-color: lightgreen;}
          50% {background-color: red;}
          100% {background-color: gray;}
      }

      .name {
          color: #fff;
          font-family: sans-serif;
          font-size: 16px;
          font-weight: bold;
          position: absolute;
          top: 50%;
          left: 0;
          transform: translate(0, -50%);
          margin-left: 15px;
          transition: all 300ms ease-in-out;
      }

      .icon i {
          color: #fff;
          font-size: 16px;
          transition: all 300ms ease-in-out;
      }

      .chat-history {
          overflow-y: scroll;
          padding: 5em 2em;
          width: 101.4%;
          height: 85%;
          background-color: #fff;
          transition: all 300ms ease-in-out;
      }
      .chat-history .bonin p{
          background-color: #f7f7b6 !important;
      }
      .chat-history p{
          padding: 10px 15px;
          border: 0px solid;
          border-radius: 5px;
          background-color: #efefef;
          word-break: break-all;
          font-weight: bold;
          color: #676767;
      }
      .chat-history p span{
          text-align: right;
          display: block;
          color: #bfbfbf;
      }

      .chat-input {
          border-top: 1px solid #e0e0e0;
          width: 100%;
          background-color: #fff;
          text-align: center;
          transition: all 300ms ease-in-out;
      }

      .positioning-container-chat {
          position: relative;
          width: 100%;
          height: 100%;
          padding: 0 6px;
      }

      .chat-input input {
          width: 85%;
          height: 6.5vh;
          border: none;
          outline: none;
          color: #000;
          font-size: 16px;
          transition: all 300ms ease-in-out;
          display: inline-block;
      }
      .action {display: inline-block;cursor: pointer}
      .action i {
          font-size: 24px;
          transition: all 300ms ease-in-out;
      }

      @media only screen and (max-width: 1100px) {
          .name, .icon i {
              font-size: 14px;
          }

          .chat-input input {
              font-size: 14px;
          }

          .action i {
              font-size: 22px;
          }
      }

      @media only screen and (max-height: 525px) {
          .name, .icon i {
              font-size: 14px;
          }

          .chat-input input {
              font-size: 14px;
          }

          .action i {
              font-size: 22px;
          }

          .chat-history {
              height: 75%;
          }
      }

      @media only screen and (max-width: 950px) {
          .chatbox {
              width: 100%;
          }
      }

      @media only screen and (max-width: 600px) {
          .name, .icon i {
              font-size: 10px;
          }

          .name {
              margin-left: 10px;
          }
      }
  </style>

  <div class="container2">
      <div class="chatbox">
          <div class="bar">
              <div class="positioning-container-bar">
                  <div class="name">11AM</div>
              </div>
          </div>

          <div id="chat-history" class="chat-history"></div>

          <div class="chat-input">
              <div class="positioning-container-chat">
                  <input type="text" id="chat-text" name="p-search" placeholder="Ï†êÏã¨ Í≥†Î•¥ÏãúÏ£†">
                  <div id="p-search" class="action">
                      <i class="fas fa-stop"></i>
                  </div>
              </div>
          </div>
      </div>
  </div>

  <!-- Initialize Swiper -->
  <script>
      function swiper_func() {
          var swiper = new Swiper('.swiper-container', {
              slidesPerView: 5,
              spaceBetween: 50,
              observer : true,
              // init: false,
              pagination: {
                  el: '.swiper-pagination',
                  clickable: true,
              },
              breakpoints: {
                  1024: {
                      slidesPerView: 4,
                      spaceBetween: 40,
                  },
                  768: {
                      slidesPerView: 3,
                      spaceBetween: 30,
                  },
                  640: {
                      slidesPerView: 2,
                      spaceBetween: 20,
                  },
                  320: {
                      slidesPerView: 1,
                      spaceBetween: 10,
                  }
              }
          });
      }
  </script>


  <!--11AM - Ï†êÏã¨ Ï§ÄÎπÑ ÎÅù-->


  <script type="text/javascript">
      $(function () {

    /*
    *==================================================================
    *  current time zero add
    *==================================================================
    */
          var Now = new Date();
          var NowTime = Now.getFullYear();
          NowTime += '-' + leadingZeros((Now.getMonth() + 1), 2);
          NowTime += '-' + leadingZeros(Now.getDate(), 2);
          NowTime += ' ' + leadingZeros(Now.getHours(), 2);
          NowTime += ':' + leadingZeros(Now.getMinutes(), 2);
          NowTime += ':' + leadingZeros(Now.getSeconds(), 2);

          function leadingZeros(n, digits) {
              var zero = '';
              n = n.toString();

              if (n.length < digits) {
                  for (var i = 0; i < digits - n.length; i++)
                      zero += '0';
              }
              return zero + n;
          }


          var auth = firebase.auth();
          var database = firebase.database();
          var authProvider = new firebase.auth.GoogleAuthProvider();
          var userInfo
          auth.onAuthStateChanged(function (user) {
              if (user) {
                  userInfo = user
                  get_text_list1()
                  get_food_list()
                  swiper_func()
              } else {
                  firebase.auth().signInAnonymously(); // ÏùµÎ™ÖÎ°úÍ∑∏Ïù∏
              }
          })
          var divUtc = $('#divUTC');
          var divLocal = $('#divLocal');
          var localTime;
          // =========== moment.js Ïä§ÌÅ¨Î¶ΩÌä∏ ÏãúÏûë
          setInterval(function () {
              divUtc.text(moment.utc().format('YYYY-MM-DD HH:mm:ss'));
              localTime = moment.utc(divUtc.text()).toDate();
              localTime = moment(localTime).format('YYYY-MM-DD HH:mm:ss');
              divLocal.text(localTime);
          }, 1000);
          // =========== moment.js Ïä§ÌÅ¨Î¶ΩÌä∏ ÎÅù

          /* ÏùåÏãùÏ†ê Î™©Î°ù ÌïúÏÑ∏Ìä∏ */
          function get_food_list() {
              var publicGetKeyIn = firebase.database().ref('/ÏùåÏãùÏ†ê/' + "food");
              publicGetKeyIn.on('child_added', food_on_child_added);

          }
          function food_on_child_added(data) {
              var key = data.key;
              var sData = data.val();
              var fname = sData.name;
              var fcat = sData.cat;
              var fclosed = sData.closed;
              var fnumber = sData.number;
              var fdelivery = sData.delivery;

              /*Î≤îÏúÑÏßÄÏ†ï ÎûúÎç§*/
              var ranJ = Math.floor((Math.random() * 10) + 1);

              var fhtml = "<div class=\"swiper-slide\">" +
                  "              <div class=\"owl-item\">" +
                  "                  <div class=\"round-element\">" +
                  "                      <img class=\"\" src=\"https://enableds.com/products/kolor3/images/pictures/10l.jpg\">" +
                  "                      <div class=\"above-overlay\">" +
                  "                          <h3>"+ fname +"</h3>" +
                  "                          <p>"+ fclosed +"</p>" +
                  "                          <p>"+ fdelivery +"</p>" +
                  "                          <p>"+ fnumber +"</p>" +
                  "                      </div>" +
                  "                      <div class=\"overlay-gradient-large\"></div>" +
                  "                  </div>" +
                  "              </div>" +
                  "          </div>";
              $("#j-swiper-wrapper").append(fhtml);
          }
          /* ÏùåÏãùÏ†ê Î™©Î°ù  ÌïúÏÑ∏Ìä∏ */


          /* Ï±ÑÌåÖ ÌïúÏÑ∏Ìä∏ */
          function get_text_list1() {
              var publicGetKeyIn = firebase.database().ref('/Ï±ÑÌåÖ/' + "ÌçºÎ∏îÎ¶≠Ï±ÑÌåÖ");
              publicGetKeyIn.on('child_added', public_on_child_added);

          }
          function public_on_child_added(data) {
              var key = data.key;
              var sData = data.val();
              var Kword = sData.keyword;
              var Kdate = sData.date;
              var jUser = sData.user;

              var html2 =
                  "<div id='"+ jUser +"'><p id='" + key + "' class='timeline-item'>" + Kword + "<span>"+ Kdate +"</span>" + "</p></div>";
              $("#chat-history").prepend(html2);
              $('#' + userInfo.uid).addClass("bonin");
          }
          /* Ï±ÑÌåÖ ÌïúÏÑ∏Ìä∏ */



          function goSearch() {
              var keyword = $("#chat-text").val();
              if (!keyword == "") {
                  // =========== ÌååÏù¥Ïñ¥Î≤†Ïù¥Ïä§ ÏûÖÎ†• ÏãúÏûë
                  var publicKeyIn = database.ref('/Ï±ÑÌåÖ/' + "ÌçºÎ∏îÎ¶≠Ï±ÑÌåÖ");
                  publicKeyIn.push({
                      keyword: keyword,
                      date: NowTime,
                      user : userInfo.uid
                  });
                  // =========== ÌååÏù¥Ïñ¥Î≤†Ïù¥Ïä§ ÏûÖÎ†• ÎÅù
              } else {
                  alert("ÏûÖÎ†•Í∞íÏù¥ ÏóÜÏñ¥Ïöî")
              }
          }


          var psearch = $("#p-search");
          $("input[name=p-search]").keydown(function (key) {
              if (key.keyCode == 13) { //ÌÇ§Í∞Ä 13Ïù¥Î©¥ Ïã§Ìñâ (ÏóîÌÑ∞Îäî 13)
                  goSearch();
                  $("#chat-text").val("");
              }
          });
          psearch.click(function () {
              goSearch();
          });



      })
  </script>
  <!-- ÌååÏù¥Ïñ¥Î≤†Ïù¥Ïä§ -->
  <script src="https://www.gstatic.com/firebasejs/3.6.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.6.2/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.6.2/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.6.2/firebase-messaging.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.9.0/firebase.js"></script>
  <script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyDM0nHhbIi5YU4eqtbFTAkH3nL7CBchBDY",
    authDomain: "yogurt-22fd4.firebaseapp.com",
    databaseURL: "https://yogurt-22fd4.firebaseio.com",
    projectId: "yogurt-22fd4",
    storageBucket: "yogurt-22fd4.appspot.com",
    messagingSenderId: "178442852803"
  };
  firebase.initializeApp(config);
  </script>
  <script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function() {
    // // üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•
    // // The Firebase SDK is initialized and available here!
    //
    // firebase.auth().onAuthStateChanged(user => { });
    // firebase.database().ref('/path/to/ref').on('data', snapshot => { });
    // firebase.messaging().requestPermission().then(() => { });
    // firebase.storage().ref('/path/to/ref').getDownloadURL().then(() => { });
    //
    // // üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•
    try {
      let app = firebase.app();
      let features = ['auth', 'database', 'messaging', 'storage'].filter(feature => typeof app[feature] === 'function');
      document.getElementById('load').innerHTML = `Firebase SDK loaded with ${features.join(', ')}`;
    } catch (e) {
      console.error(e);
      document.getElementById('load').innerHTML = 'Error loading the Firebase SDK, check the console.';
    }
  });
  </script>
  <script src="lib/jquery.dataTables.js"></script>
  <script src="lib/dataTables.bootstrap.js"></script>

</body>

</html>
